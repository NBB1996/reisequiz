<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <title>Reisequiz – Quizfrage</title>

    <!-- Bootstrap und Icons -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css">

    <!-- Eigenes CSS -->
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
</head>
<body>

<div class="container">
    <header class="d-flex justify-content-between align-items-center mb-4">
        <h1>
            <img src="{{ url_for('static', filename='globe-icon.png') }}" alt="Icon" width="32" style="vertical-align: middle; margin-right: 8px;">
            Reisequiz
        </h1>
        <a href="{{ url_for('main.settings') }}" class="btn btn-outline-dark">Neues Quiz</a>
    </header>

    <!-- Kategorie-Übersicht -->
    <p class="text-muted">Städtereisen | Europa | Backpacker</p>

    <!-- Bild (ggf. verpixelt) -->
    <img src="{{ url_for('static', filename='paris_blurred.jpg') }}" alt="Hinweisbild" class="quiz-image">

    <!-- Hinweistext -->
    <div class="box-light mt-3 text-start">
        <h5><strong>Welche Stadt wird durch diesen Text beschrieben</strong></h5>
        <p>
            Mit der städtischen Siedlungszone (französisch: Aire urbaine) hat die Metropolregion 12,5 Millionen Einwohner 
            und ist damit eine der größten Stadtregionen Europas. Als <em>Lutetia</em> auf einer Seineinsel vor mehr als 
            2000 Jahren gegründet, ist die Stadt zu einer der lebendigsten Metropolen Europas und der Welt geworden. 
            Die Stadt lockt mit Mode, Kunst und Kultur.
        </p>
    </div>

    <!-- Antwortmöglichkeiten -->
    <form id="quizForm" method="POST" action="{{ url_for('main.result') }}">
        <div class="row row-cols-1 row-cols-md-2 g-3 mt-3">
            {% for option in ["Paris", "Madrid", "London", "Berlin"] %}
            <div class="col">
                <button type="button" class="answer-option btn" data-value="{{ option }}">{{ option }}</button>
            </div>
            {% endfor %}
        </div>

        <!-- Fehlermeldung -->
        <div id="error-message" class="text-danger mt-3" style="display: none;">
            Bitte wähle eine Antwortoption aus.
        </div>

        <!-- Verstecktes Feld für Antwortübermittlung -->
        <input type="hidden" name="selected_answer" id="selected_answer">

        <!-- Prüfen-Button -->
        <button type="submit" class="btn-custom mt-4" id="submitBtn" disabled>Antwort überprüfen</button>
    </form>
</div>

<script>
    const buttons = document.querySelectorAll('.answer-option');
    const selectedAnswer = document.getElementById('selected_answer');
    const submitBtn = document.getElementById('submitBtn');
    const errorMsg = document.getElementById('error-message');

    buttons.forEach(button => {
        button.addEventListener('click', () => {
            buttons.forEach(b => b.classList.remove('selected-answer'));
            button.classList.add('selected-answer');
            selectedAnswer.value = button.dataset.value;
            submitBtn.disabled = false;
            errorMsg.style.display = 'none';
        });
    });

    document.getElementById('quizForm').addEventListener('submit', function(e) {
        if (!selectedAnswer.value) {
            e.preventDefault();
            errorMsg.style.display = 'block';
        }
    });
</script>

</body>
</html>
